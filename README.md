# Binance 批量提币工具 v3.0

> 📢 **关注 Twitter: [@Nadiinn5](https://twitter.com/Nadiinn5)** 获取更多机器人和工具！

一键批量提币，支持多地址、多币种，全自动化操作。

## 🚀 快速开始

### 运行服务

```bash
node server.js
```

### 访问工具

启动后，控制台会显示：
- 🔗 **访问地址**: `https://127.0.0.1:7754`
- 🔐 **Session Token**: 复制到网页中使用
- 🔑 **Encryption Key**: 自动同步到前端

> ⚠️ 首次访问时浏览器会提示"证书不受信任"，点击"继续访问"即可（自签名证书的正常提示）

## 📋 功能特点

### 核心功能
- ✅ **批量提币** - 一次提多个地址
- ✅ **多币种支持** - USDT、USDC、ETH、BNB、BTC 等
- ✅ **动态网络加载** - 自动获取币种支持的网络列表
- ✅ **自动精度识别** - 根据币种自动格式化金额显示
- ✅ **本地运行** - API Key 不上传服务器

### 智能功能
- 💰 **手续费显示** - 实时显示提币手续费和最小提币金额
- 💵 **USD 估值** - 显示手续费的美元估值
- ⏱️ **延迟模式** - 支持固定延迟和随机延迟（防监控）
- ❌ **失败重试** - 失败任务单独列出，支持一键重试
- 🔔 **音效提示** - 成功/失败音效提醒
- 🌐 **代理支持** - 支持在网页设置代理并检测

### 手续费支付方式
- **接收方支付** - 从提币金额中扣除手续费
- **发送方支付** - 自动增加手续费，接收方收到完整金额

### 界面优化
- 📑 **选项卡切换** - 配置分为 API 配置、提币设置、高级选项三个面板
- 🔽 **分类币种选择** - 按稳定币、主流币、热门币等分类
- ✏️ **自定义币种** - 支持输入任意币种符号

## 🔒 安全特性

| 特性 | 说明 |
|------|------|
| **HTTPS 加密** | 纯 JavaScript 生成自签名证书，无需 OpenSSL |
| **AES-256 应用层加密** | API Key/Secret Key 使用 AES-256-CBC 加密传输 |
| **自动密钥同步** | 加密密钥自动从服务器获取，无需手动输入 |
| **Session Token** | 每次启动生成随机令牌，必须输入才能使用 |
| **本地绑定** | 只监听 127.0.0.1，外网无法访问 |
| **路径遍历防护** | 防止 `/../` 攻击 |
| **请求大小限制** | 最大 10KB，防止 DoS |
| **安全响应头** | CSP、X-Frame-Options 等保护 |
| **敏感信息清理** | 请求处理后自动清除内存中的密钥 |

### 双重加密保护

```
用户输入 API Key → 前端 AES-256 加密 → HTTPS 传输 → 后端 AES-256 解密 → 调用 API
```

即使 HTTPS 被中间人解密，也只能看到加密后的乱码。

## 📖 使用说明

### 1️⃣ 配置 API
1. 填写 **Session Token**（从控制台复制）
2. 加密密钥会**自动同步**获取
3. 填写 **API Key** 和 **Secret Key**
4. (可选) 设置代理并点击「🔍 检测」测试

### 2️⃣ 选择币种和网络
- 从下拉菜单选择币种，或选择「自定义币种」输入任意代码
- 系统自动加载该币种支持的网络
- 显示精确的手续费、最小提币金额和 USD 估值

### 3️⃣ 输入提币列表
每行一个，格式：`地址,数量`
```
0x1234...abcd,100
0x5678...efgh,200
```

或使用「统一数量」模式，每行只需输入地址。

### 4️⃣ 设置延迟
- **固定延迟** - 每笔固定等待 N 秒
- **随机延迟** - 每笔随机等待 min~max 秒

### 5️⃣ 开始提币
点击「🚀 开始批量提币」

## ⚠️ 使用须知

### API Key 设置
- ✅ 必须开启**提现权限** (Enable Withdrawals)
- ✅ 必须设置**地址白名单**（Binance → 提币 → 地址管理）
- ✅ 建议设置**IP 白名单**（如使用代理，需添加代理 IP）

### 常见错误

| 错误信息 | 解决方法 |
|----------|----------|
| `解密失败，请检查加密密钥是否正确` | 重启服务器并重新粘贴 Session Token |
| `You are not authorized to execute this request` | API Key 没有提币权限或地址未加白名单 |
| `Session Token 无效或缺失` | 重新从控制台复制 Session Token |
| `请检查加密密钥是否已同步 (应为64位)` | 等待加密密钥自动同步或手动刷新页面 |

### 安全提醒
- 🚫 请勿在公共网络运行
- 🚫 请勿泄露 Session Token
- ✅ 使用完毕后关闭服务
- ✅ 定期检查 API Key 权限
- ✅ 每次重启服务器后 Token 会变化，需重新粘贴

## 📁 文件说明

| 文件 | 说明 |
|------|------|
| `server.js` | 后端服务（HTTPS + Token + AES-256 加密） |
| `index.html` | 前端界面（选项卡布局） |
| `package.json` | 项目配置 |
| `README.md` | 使用文档 |

## 🔧 配置

### 端口
自动分配可用端口 (每次启动随机)

### 代理设置

#### 方式一：网页内设置 (推荐)
在「API 配置」选项卡中填写代理 URL，点击「🔍 检测」测试连通性。

#### 方式二：环境变量
通过环境变量 `PROXY_URL` 配置代理:

```bash
# Windows PowerShell
$env:PROXY_URL="http://127.0.0.1:7890"; node server.js

# Windows CMD
set PROXY_URL=http://127.0.0.1:7890 && node server.js

# Linux/Mac
PROXY_URL=http://127.0.0.1:7890 node server.js
```

支持的格式:
- `host:port` - 无认证
- `host:port:user:pass` - 简洁格式
- `user:pass@host:port` - @分隔格式
- `user:pass:host:port` - 用户名开头格式
- `http://host:port` - URL格式
- `http://user:pass@host:port` - URL带认证
- `socks5://host:port` - SOCKS5代理

## 📦 打包

```bash
npm run build
```

输出文件在 `dist/` 目录。
